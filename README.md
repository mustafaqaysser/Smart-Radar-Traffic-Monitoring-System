# ๐ฆ ูุธุงู ูุฑุงูุจุฉ ุญุฑูุฉ ุงููุฑูุฑ ุจุงูุฑุงุฏุงุฑ ุงูุฐูู (Smart Radar Traffic System)

**ูุดุฑูุน ุชุฎุฑุฌ (Capstone Project) ููุถุญ ุจูุงุก ุฎุท ุฃูุงุจูุจ ุจูุงูุงุช (Data Pipeline) ูุชูุงูู ุนูู ุณุญุงุจุฉ Azureุ ุถูู ูุจุงุฏุฑุฉ eyouth X DEPI.**

ูุฐุง ุงููุดุฑูุน ูุบุทู ุฏูุฑุฉ ุญูุงุฉ ุจูุงูุงุช ุงููุฑูุฑ ุจุงููุงูู: ุจุฏุกูุง ูู ุงููุญุงูุงุฉ ุงููุญุธูุฉ ููุจูุงูุงุช (M1)ุ ุชุฌููุนูุง ูุญูุธูุง (Ingestion)ุ ูุนุงูุฌุชูุง ุจุดูู ุฏูุนู (Batch Processing - M2)ุ ูุนุงูุฌุชูุง ูุญุธููุง (Streaming - M3)ุ ูุญุชู ุนุฑุถูุง ูู ููุญุฉ ูุนูููุงุช ุชูุงุนููุฉ (M4).

![Azure](https://img.shields.io/badge/Azure-0078D4?style=for-the-badge&logo=microsoftazure&logoColor=white)
![Spark](https://img.shields.io/badge/Apache%20Spark-E25A1C?style=for-the-badge&logo=apachespark&logoColor=white)
![Python](https://img.shields.io/badge/Python-3776AB?style=for-the-badge&logo=python&logoColor=white)
![Power BI](https://img.shields.io/badge/Power%20BI-F2C811?style=for-the-badge&logo=powerbi&logoColor=black)
![Docker](https://img.shields.io/badge/Docker-2496ED?style=for-the-badge&logo=docker&logoColor=white)

---

## ๐๏ธ 1. ุงูุจููุฉ ุงูุชูููุฉ ูููุดุฑูุน (Architecture)

ููุฏ ูููุง ุจุจูุงุก ุจููุฉ "Lakehouse" ุญุฏูุซุฉ ููุนุงูุฉ ูู ุญูุซ ุงูุชูููุฉุ ุจุงูุงุนุชูุงุฏ ุงููุงูู ุนูู ุฎุฏูุงุช Azure ุงูููุฏุงุฑุฉ.

![ุตูุฑุฉ ููุจููุฉ ุงูุชูููุฉ ูููุดุฑูุน](architecture_diagram.png)
*(ููุงุญุธุฉ: ูุฌุจ ุนููู ุฅูุดุงุก ูุฐุง ุงูุฑุณู ุงูุจูุงูู ููุถุนู ููุง)*

**ูุณุงุฑ ุชุฏูู ุงูุจูุงูุงุช:**
1.  **(M1) ุงูุฅูุชุงุฌ:** ุฎุฏูุฉ `Azure Container Instance (ACI)` ุชููู ุจุชุดุบูู ุงุณูุฑุจุช Python ููุญุงูุงุฉ ุจูุงูุงุช ุงูุฑุงุฏุงุฑ 24/7.
2.  **ุงูุชุฌููุน:** ูุชู ุฅุฑุณุงู ุงูุจูุงูุงุช ุฅูู `Azure Event Hub`.
3.  **ุงูุฌุณุฑ (Bridge):** ูุธููุฉ `Azure Stream Analytics (ASA)` ุชูุฑุฃ ุงูุจูุงูุงุช ูู Event Hub ูุชุญูุธูุง ููููุงุช `JSON` ุฎุงู ูู `Azure Data Lake Storage (ADLS Gen2)`.
4.  **(M2) ุงููุนุงูุฌุฉ (Batch):**
    * `Azure Synapse Spark Pool` (ุงููุญุฑู) ูููู ุจุชุดุบูู `PySpark Notebook` (`daily_elt_job_LAKEHOUSE.py`) ูุฑุฉ ูุงุญุฏุฉ ูููููุง (ุนุจุฑ Synapse Pipeline).
    * ุงูููุฏ ููุฑุฃ `~20,000` ุณุฌู `JSON` ุฎุงู.
    * ูููู ุจุชูุธูููุงุ ุชุญููููุง (Transform)ุ ูุญูุธูุง ูู 4 ุฌุฏุงูู `Parquet` ูุธููุฉ (ุฌุฏุงูููุง ุงูููุงุฆูุฉ) ูู ูุฌูุฏ `clean-tables`.
5.  **(M2) ุงูุนุฑุถ (Serving):**
    * `Synapse Serverless SQL Pool` (ุงููุฌุงูู) ูููู ุจุฅูุดุงุก "ุนุฑูุถ" (Views) ููู ูููุงุช Parquet ุงููุธููุฉ ูุชุจุฏู ูุฌุฏุงูู SQL.
6.  **(M3) ุงููุนุงูุฌุฉ (Streaming):**
    * ูุธููุฉ `ASA` ุซุงููุฉ (`realtime-violations-job`) ุชูุฑุฃ ูู Event Hub **ูุญุธููุง** ูุชูุชุดู ุงููุฎุงููุงุช (`WHERE is_violation = true`) ููุท.
7.  **(M4) ููุญุฉ ุงููุนูููุงุช:**
    * `Power BI` ูุชุตู ุจูุตุฏุฑูู: (1) ุงูู `Serverless SQL Views` (ูุจูุงูุงุช M2 ุงูุชุงุฑูุฎูุฉ) ู (2) ุงูู `ASA Job` (ูุจูุงูุงุช M3 ุงููุญุธูุฉ).

---

## ๐๏ธ 2. ุงูุชูููุงุช ุงููุณุชุฎุฏูุฉ ุจุงูุชูุตูู

* **ุงูุฅูุชุงุฌ (M1):**
    * `Python`: ููุชุงุจุฉ ููุทู ุงููุญุงูุงุฉ.
    * `Docker`: ูุชุบููู ุงูุงุณูุฑุจุช.
    * `Azure Container Registry (ACR)`: ูุชุฎุฒูู ุงูู Image.
    * `Azure Container Instances (ACI)`: ูุชุดุบูู ุงูุฎุฏูุฉ 24/7.
* **ุงูุชุฌููุน (Ingestion):**
    * `Azure Event Hub`: ูุงุณุชูุจุงู ุงูุจูุงูุงุช ุงูุญูุฉ (ููุทุฉ ุงูุชุฌููุน).
    * `Azure Stream Analytics (ASA)`: ูู "ุฌุณุฑ" ูุญูุธ ุงูุจูุงูุงุช ูู Data Lake (ูุฃููุง ูุณุชุฎุฏู ุทุจูุฉ Basic).
    * `Azure Data Lake Storage (ADLS Gen2)`: ูุชุฎุฒูู ุงูุจูุงูุงุช ุงูุฎุงู (JSON) ูุงูุจูุงูุงุช ุงููุธููุฉ (Parquet).
* **ุงููุนุงูุฌุฉ ูุงูุนุฑุถ (M2):**
    * `Azure Synapse Analytics`: ูุณุงุญุฉ ุงูุนูู ุงูุฑุฆูุณูุฉ.
    * `Apache Spark Pool`: "ุงููุญุฑู" (`SparkPoolSmall`) ูุชุดุบูู PySpark.
    * `PySpark`: ุงููุบุฉ ุงููุณุชุฎุฏูุฉ ูุชูุธูู ูุชุญููู (ELT) ุงูุจูุงูุงุช (`daily_elt_job_LAKEHOUSE.py`).
    * `Synapse Serverless SQL Pool`: ูุฅูุดุงุก "ุนุฑูุถ" (Views) ููุฑุงุกุฉ ุงูุจูุงูุงุช ุงููุธููุฉ ุจุชูููุฉ ุดุจู ูุฌุงููุฉ.
* **ุงููุนุงูุฌุฉ ุงููุญุธูุฉ (M3):**
    * `Azure Stream Analytics (ASA)`: ูุงูุชุดุงู ุงููุฎุงููุงุช ูุญุธููุง.
* **ููุญุฉ ุงููุนูููุงุช (M4):**
    * `Power BI`: ููุงุชุตุงู ุจุงูู Serverless Pool ูุนุฑุถ ุงููุชุงุฆุฌ.
* **ุงูุฌุฏููุฉ (Orchestration):**
    * `Synapse Pipelines`: ูุฌุฏููุฉ ูุชุดุบูู ููุฏ M2 ุชููุงุฆููุง ูู 24 ุณุงุนุฉ.

---

## ๐ 3. ูููู ุงููุฌูุฏุงุช (Repository Structure)

* **`/1_Producer_Service`**: ูุญุชูู ุนูู ููุฏ ุงููุตุฏุฑ ูุงูู `Dockerfile` ุงูุฎุงุต ุจุฎุฏูุฉ `ACI`.
* **`/2_Ingestion_Bridge`**: ูุญุชูู ุนูู ููุฏ SQL ุงูุฎุงุต ุจูุธููุฉ ASA (M1 Bridge).
* **`/3_Batch_Processing_M2`**: ูุญุชูู ุนูู ููุฏ PySpark (M2) ุจูุณุฎุชูู (Lakehouse ู DWH).
* **`/4_Database_Schema`**: ูุญุชูู ุนูู ุฌููุน ุฃููุงุฏ SQL ูุฅูุดุงุก ุงูุฌุฏุงูู ูุงูุนุฑูุถ.
* **`/5_Streaming_Processing_M3`**: ูุญุชูู ุนูู ููุฏ SQL ุงูุฎุงุต ุจูุธููุฉ ASA (M3 Real-time).
* **`/6_Dashboard_M4`**: ูุญุชูู ุนูู ุตูุฑ ูู ููุญุฉ ุงููุนูููุงุช ุงูููุงุฆูุฉ.
* **`/7_orchestration`**: (ุงุฎุชูุงุฑู) ูููู ุชุตุฏูุฑ ุงูู JSON ุงูุฎุงุต ุจุงูู Pipeline ููุถุนู ููุง.

---

## โจ 4. ุงูุฅูุฌุงุฒุงุช ุงูุฑุฆูุณูุฉ ูุงูุญููู

* **ุจูุงุก ุฎุท ุฃูุงุจูุจ ูุชูุงูู (E2E):** ุชู ุจูุฌุงุญ ุจูุงุก ุฎุท ุฃูุงุจูุจ ูู ุงูุฅูุชุงุฌ (M1) ุฅูู ุงููุนุงูุฌุฉ (M2).
* **ุญู ูุดููุฉ ุทุจูุฉ "Basic"**: ุชู ุญู ูุดููุฉ ุนุฏู ุชููุฑ "Capture" ูู Event Hub ุนู ุทุฑูู ุจูุงุก "ุฌุณุฑ" ูุฎุตุต ุจุงุณุชุฎุฏุงู `Stream Analytics`.
* **ุจููุฉ "Lakehouse" ูููุฑุฉ ููุชูููุฉ**: ุชู ุชุฌูุจ ุงูุชูููุฉ ุงูุนุงููุฉ ูู `Dedicated SQL Pool` ุนู ุทุฑูู ุชุนุฏูู ููุฏ M2 ููุญูุธ ููููุงุช `Parquet` ูุงุณุชุฎุฏุงู `Serverless SQL Pool` (ุงููุฌุงูู ุชูุฑูุจูุง) ูุนุฑุถูุง ูุฌุฏุงูู.
* **ูุนุงูุฌุฉ ูุงุฌุญุฉ ููุจูุงูุงุช**: ูุฌุญ ููุฏ PySpark ูู ูุฑุงุกุฉ ููุนุงูุฌุฉ `+20,000` ุณุฌู ุฎุงู ูุชุญููููุง ุฅูู ุฌุฏุงูู ูุธููุฉ.